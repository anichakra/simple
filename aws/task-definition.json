{
	"family": "simple-rest-service-task",
	"networkMode": "awsvpc",
	"containerDefinitions": [
		{
			"name": "simple-rest-service-container",
			"image": "%AWS_ACCOUNT%.dkr.ecr.us-east-1.amazonaws.com/simple-rest-service:%BUILD_TAG%",
			"portMappings": [
				{
					"containerPort": 8080,
					"hostPort": 8080,
					"protocol": "tcp"
				}
			],
			"logConfiguration": {
				"logDriver": "awslogs",
				"options": {
					"awslogs-region": "us-east-1",
					"awslogs-stream-prefix": "ecs",
					"awslogs-group": "/ecs/simple-rest-service"
				}
			},
			"essential": true
		},
		{
			"name": "xray-sidecar",
			"image":"%AWS_ACCOUNT%.dkr.ecr.us-east-1.amazonaws.com/amazon/aws-xray-daemon:1",
			"cpu": 0,
			"portMappings": [
				{
					"protocol": "udp",
					"containerPort": 2000,
					"hostPort": 2000
				}
			],
			"logConfiguration": {
				"logDriver": "awslogs",
				"options": {
					"awslogs-region": "us-east-1",
					"awslogs-stream-prefix": "ecs",
					"awslogs-group": "/ecs/simple-rest-service"
				}
			},
			"essential": true
		}
	],
	"requiresCompatibilities": [
		"FARGATE"
	],
	"cpu": "1024",
	"memory": "2048",
	"executionRoleArn": "arn:aws:iam::%AWS_ACCOUNT%:role/ecsTaskExecutionRole"
}

